import{_ as m,p as r,v as x,x as _,c as B,o as f,j as h,al as o,G as b,k as u}from"./chunks/framework.B-BLAt75.js";const R=["src"],p=324,d=570,q={__name:"canvasVideo",props:{videoSrc:{type:String,default:""}},setup(E){let a=null,s=0;const g=r(),i=r(),t=r(),A=()=>{g.value&&i.value&&t.value&&(t.value.width=p,t.value.height=d,a=t.value.getContext("2d",{willReadFrequently:!0}),i.value.crossOrigin="anonymous")},y=()=>{if(i.value&&a){a.drawImage(i.value,0,0,p,d);const c=a.getImageData(0,0,p,d);a.clearRect(0,0,p,d);const{data:l,width:F,height:D}=c;for(let n=0;n<D;n++)for(let e=0;e<F;e++){const k=(n*F+e)*4;if(e%6===0&&n%6===0){const v=(l[k]+l[k+1]+l[k+2])/3;a.fillStyle=`rgb(${v}, ${v}, ${v})`,a.font="10px Arial",a.fillText("8",e,n)}}s=window.requestAnimationFrame(y)}};return x(()=>{A(),y()}),_(()=>{s&&cancelAnimationFrame(s)}),(c,l)=>(f(),B("div",{class:"container",ref_key:"boxRef",ref:g},[h("video",{muted:!1,autoplay:"",preload:"true",loop:"","x5-video-player-fullscreen":"true","x5-playsinline":"true",playsinline:"","webkit-playsinline":"true",crossorigin:"anonymous",ref_key:"videoRef",ref:i},[h("source",{src:E.videoSrc},null,8,R)],512),h("canvas",{ref_key:"canvasRef",ref:t},null,512)],512))}},C=m(q,[["__scopeId","data-v-968389d2"]]),w="/hanfeng/assets/2222.Bdx2lD37.mp4",S="/hanfeng/assets/dance.w17byeRH.mp4",I={class:"demo-container"},H=JSON.parse('{"title":"视频字符化特效","description":"","frontmatter":{},"headers":[],"relativePath":"workflow/css/video-character-effect.md","filePath":"workflow/css/video-character-effect.md","lastUpdated":1766107821000}'),T={name:"workflow/css/video-character-effect.md"},P=Object.assign(T,{setup(E){return(a,s)=>(f(),B("div",null,[s[0]||(s[0]=o("",3)),h("div",I,[b(C,{videoSrc:u(w)},null,8,["videoSrc"]),b(C,{videoSrc:u(S)},null,8,["videoSrc"])]),s[1]||(s[1]=o("",3))]))}}),$=m(P,[["__scopeId","data-v-05167e75"]]);export{H as __pageData,$ as default};
